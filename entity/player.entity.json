{
  "format_version": "1.10.0",
  "minecraft:client_entity": {
    "description": {
      "identifier": "minecraft:player",
      "min_engine_version": "1.8.0",
      "materials": {
        "default": "entity_alphatest",
        "cape": "entity_alphatest",
        "animated": "player_animated",
        "spectator": "player_spectator",

        "ambient_uv": "ambient_uv",
        "ambient_armor": "armor",
        "ambient_armor_leather": "armor_leather"
      },
      "textures": {
        "default": "textures/entity/steve",
        "cape": "textures/entity/cape_invisible",

        "leather": "textures/models/armor/leather_1",
        "leather_leggings": "textures/models/armor/leather_2",
        "chain": "textures/models/armor/chain_1",
        "chain_leggings": "textures/models/armor/chain_2",
        "iron": "textures/models/armor/iron_1",
        "iron_leggings": "textures/models/armor/iron_2",
        "diamond": "textures/models/armor/diamond_1",
        "diamond_leggings": "textures/models/armor/diamond_2",
        "gold": "textures/models/armor/gold_1",
        "gold_leggings": "textures/models/armor/gold_2",
        "turtle": "textures/models/armor/turtle_1",
        "elytra": "textures/models/armor/elytra",
        "netherite": "textures/models/armor/netherite_1",
        "netherite_leggings": "textures/models/armor/netherite_2",
        "fire": "textures/blocks/fire_0"
      },
      "geometry": {
        "default": "geometry.humanoid.custom",
        "cape": "geometry.cape_custom",
        "cape_emote_fix": "geometry.cape_custom_emote",

        "player_armor_custom": "geometry.player_armor_custom",
        "player_armor_custom_hurt": "geometry.player_armor_custom_hurt",
        "player_armor_leggings_custom": "geometry.player_armor_leggings_custom",
        "player_armor_leggings_custom_hurt": "geometry.player_armor_leggings_custom_hurt",
        "player_elytra_custom": "geometry.player_elytra_custom",
        "player_elytra_custom_hurt": "geometry.player_elytra_custom_hurt",
        "player_fire": "geometry.player_fire"
      },
      "scripts": {
        "variables": {
          "variable.short_arm_offset_left": "public",
          "variable.short_arm_offset_right": "public"
        },
        "scale": "0.9375",
        "initialize": [
          "v.short_arm_offset_left = 0.0;",
          "v.short_arm_offset_right = 0.0;",

          "v.is_holding_right = 0.0;",
          "v.is_holding_left = 0.0;",
          "v.is_blinking = 0.0;",
          "v.last_blink_time = 0.0;",
          "v.hand_bob = 0.0;",
          "v.damage_nearby_mobs = 0.0;",
          "v.is_tooting_goat_horn = 0.0;",
          "v.is_using_brush = 0.0;",
          "v.swim_amount = 0.0;",
          "v.map_angle = 0.0;",
          "v.item_use_normalized = 0.0;",
          "v.arm_rotation_factor = 0.0;",
          "v.attack_body_rot_y = 0.0;",
          "v.tcos0 = 0.0;",
          "v.ratio = 0.0;", // for player elytra
          "v.hurt_time = 0.0;",
          "v.hurt_particle_time = 0.0;",
          "v.previous_hurt_time = 0.0;",
          "v.delta_time = 0.0;",
          "v.relative_head_yaw = 0.0;",
          "v.new_relative_head_yaw = 0.0;",
          "v.new_head_yaw = 0.0;",
          "v.raw_move_speed = 0.0;",
          "v.vertical_speed = 0.0;",
          "v.modified_distance_moved = 0.0;",
          "v.modified_move_speed = 0.0;",
          "v.yaw_fix = 0.0;",
          "v.relative_cape_rotation = 0.0;",
          "v.is_in_menu = 0.0;",
          "v.full_swim_distance_start = 0.0;",
          "v.full_swim_distance = 0.0;"
        ],
        "pre_animation": [
          "v.is_in_menu = (q.time_stamp <= 0);",

          //bug: scoping spyglass in 1st person makes the new limb animation freeze, idk how to fix
          "v.delta_time = (v.is_first_person ? q.delta_time : q.last_frame_time(0));",

          "v.yaw_fix = v.yaw_fix + ((v.is_first_person || (q.life_time <= 1) || q.is_sleeping || q.is_riding || q.is_gliding || q.is_swimming || v.damage_nearby_mobs) - v.yaw_fix) * (1 - math.pow((1 - 0.8), v.delta_time / 0.2));",
          "t.normalized_vertical_speed = math.clamp(math.pow(math.abs(q.position_delta(1) + 0.0784), 0.225) * 1.175, 0, 0.785); v.vertical_speed = v.vertical_speed + (t.normalized_vertical_speed - v.vertical_speed) * (1 - math.pow((1 - 0.85), v.delta_time / 0.15));",
          "v.raw_move_speed = math.clamp(math.sqrt(q.position_delta(0) * q.position_delta(0) * (1 - v.vertical_speed) + q.position_delta(2) * q.position_delta(2) * (1 - v.vertical_speed)) * 1.1224341224, 0, 0.1532167643) * 6.5267009427;",
          "v.modified_move_speed = v.modified_move_speed + (v.raw_move_speed - v.modified_move_speed) * (1 - math.pow((1 - 0.8), v.delta_time / 0.2));",
          "v.modified_distance_moved = v.modified_distance_moved + v.modified_move_speed * v.delta_time * 20;",
          "t.rot_y_delta = q.body_y_rotation - q.head_y_rotation(0); v.relative_cape_rotation = (q.is_sleeping || q.is_in_ui) ? 0 : (v.modified_move_speed * (math.sqrt(v.modified_move_speed) - math.sqrt(q.cape_flap_amount)) * math.sin(t.rot_y_delta));",

          "v.tcos0 = (math.cos((q.is_local_player ? v.modified_distance_moved : q.modified_distance_moved) * 38.1971863421) * (q.is_local_player ? v.modified_move_speed : q.modified_move_speed) / v.gliding_speed_value) * 57.2957795131;",
          "v.attack_body_rot_y = math.sin(math.sqrt(v.attack_time) * 360) * 11.4591559026;",
          "v.item_use_normalized = (q.main_hand_item_use_duration > 0.0f) ? (q.main_hand_item_use_duration - q.frame_alpha + 1) / q.main_hand_item_max_duration : 0.0;",
          "v.map_angle = math.clamp(1 - v.player_x_rotation / 45.1, 0, 1);",
          "v.helmet_layer_visible = 1.0;",
          "v.chest_layer_visible = 1.0;",
          "v.leg_layer_visible = 1.0;",
          "v.boot_layer_visible = 1.0;"
        ],
        "animate": [
          "root",
          "hurt_time",
          "hurt_particle_controller",
          { "elytra_controller": "q.armor_texture_slot(1) == 5" },
          { "interpolated_yaw": "q.is_local_player && !q.is_in_ui && !v.is_paperdoll && !q.is_sleeping && !q.is_riding && !q.is_gliding && !q.is_swimming && !v.damage_nearby_mobs" },
          { "disable_attachables": "(v.hurt_time > 0.0) && !q.is_invisible && !q.is_emoting" },
          "compute_modified_swim_speed"
        ]
      },
      "particle_effects":{
        "hurt": "ambient:hurt"
      },
      "animations": {
        "disable_attachables": "animation.player.disable_attachables",
        "hurt_time": "controller.animation.player.hurt_time",
        "hurt_particle_controller": "controller.animation.player.hurt_particle",
        "emit_hurt_particle": "animation.player.emit_hurt_particle",
        "interpolated_yaw": "animation.player.interpolated_yaw",
        "fire": "animation.player.fire",
        "elytra_controller": "controller.animation.player.elytra_controller",
        "elytra_default": "animation.player_elytra_default",
        "elytra_gliding": "animation.player_elytra_gliding",
        "elytra_sneaking": "animation.player_elytra_sneaking",
        "elytra_sleeping": "animation.player_elytra_sleeping",
        "elytra_swimming": "animation.player_elytra_swimming",
        "swim_and_crawl_controller": "controller.animation.player.swim_and_crawl",
        "swimming_other": "animation.player.swim",
        "swimming_arms_easing": "animation.player.swim.arms_easing",
        "swimming_arms_full": "animation.player.swim.arms_full",
        "first_person_attack_rotation_bow": "animation.player.first_person.attack_rotation_bow",
        "scoping_spyglass": "animation.player.scoping_spyglass",
        "first_person_attack_rotation_spyglass": "animation.player.first_person.attack_rotation_spyglass",
        "first_person_attack_rotation_shield": "animation.player.first_person.attack_rotation_shield",
        "charging_trident": "animation.player.charging_trident",
        "first_person_attack_rotation_trident": "animation.player.first_person.attack_rotation_trident",
        "first_person_attack_rotation_crossbow": "animation.player.first_person.attack_rotation_crossbow",
        "compute_modified_swim_speed": "controller.animation.player.compute_modified_swim_speed",
        "menu_pose": "animation.player.menu_pose",

        // keep all animations included in the vanilla player.entity.json, regardless of whether we use them
        "root": "controller.animation.player.root",
        "base_controller": "controller.animation.player.base",
        "hudplayer": "controller.animation.player.hudplayer",
        "humanoid_base_pose": "animation.humanoid.base_pose",
        "look_at_target": "controller.animation.humanoid.look_at_target",
        "look_at_target_ui": "animation.player.look_at_target.ui",
        "look_at_target_default": "animation.humanoid.look_at_target.default",
        "look_at_target_gliding": "animation.humanoid.look_at_target.gliding",
        "look_at_target_swimming": "animation.humanoid.look_at_target.swimming",
        "look_at_target_inverted": "animation.player.look_at_target.inverted",
        "cape": "animation.player.cape",
        "move.arms": "animation.player.move.arms",
        "move.legs": "animation.player.move.legs",
        "swimming": "animation.player.swim",
        "swimming.legs": "animation.player.swim.legs",
        "riding.arms": "animation.player.riding.arms",
        "riding.legs": "animation.player.riding.legs",
        "holding": "animation.player.holding",
        "brandish_spear": "animation.humanoid.brandish_spear",
        "charging": "animation.humanoid.charging",
        "attack.positions": "animation.player.attack.positions",
        "attack.rotations": "animation.player.attack.rotations",
        "sneaking": "animation.player.sneaking",
        "bob": "animation.player.bob",
        "damage_nearby_mobs": "animation.humanoid.damage_nearby_mobs",
        "bow_and_arrow": "animation.humanoid.bow_and_arrow",
        "use_item_progress": "animation.humanoid.use_item_progress",
        "skeleton_attack": "animation.skeleton.attack",
        "sleeping": "animation.player.sleeping",
        "first_person_base_pose": "animation.player.first_person.base_pose",
        "first_person_empty_hand": "animation.player.first_person.empty_hand",
        "first_person_swap_item": "animation.player.first_person.swap_item",
        "first_person_attack_controller": "controller.animation.player.first_person_attack",
        "first_person_attack_rotation": "animation.player.first_person.attack_rotation",
        "first_person_attack_rotation_item": "animation.player.first_person.attack_rotation_item",
        "first_person_vr_attack_rotation": "animation.player.first_person.vr_attack_rotation",
        "first_person_walk": "animation.player.first_person.walk",
        "first_person_map_controller": "controller.animation.player.first_person_map",
        "first_person_map_hold": "animation.player.first_person.map_hold",
        "first_person_map_hold_attack": "animation.player.first_person.map_hold_attack",
        "first_person_map_hold_off_hand": "animation.player.first_person.map_hold_off_hand",
        "first_person_map_hold_main_hand": "animation.player.first_person.map_hold_main_hand",
        "first_person_crossbow_equipped": "animation.player.first_person.crossbow_equipped",
        "first_person_crossbow_hold": "animation.player.first_person.crossbow_hold",
        "first_person_breathing_bob": "animation.player.first_person.breathing_bob",
        "third_person_crossbow_equipped": "animation.player.crossbow_equipped",
        "third_person_bow_equipped": "animation.player.bow_equipped",
        "crossbow_hold": "animation.player.crossbow_hold",
        "crossbow_controller": "controller.animation.player.crossbow",
        "shield_block_main_hand": "animation.player.shield_block_main_hand",
        "shield_block_off_hand": "animation.player.shield_block_off_hand",
        "blink": "controller.animation.persona.blink",
        "fishing_rod": "animation.humanoid.fishing_rod",
        "holding_spyglass": "animation.humanoid.holding_spyglass",
        "first_person_shield_block": "animation.player.first_person.shield_block",
        "tooting_goat_horn": "animation.humanoid.tooting_goat_horn",
        "holding_brush": "animation.humanoid.holding_brush",
        "brushing": "animation.humanoid.brushing",
        "crawling": "animation.player.crawl",
        "crawling.legs": "animation.player.crawl.legs"
      },
      "render_controllers": [
        { "controller.render.player.first_person_spectator": "v.is_first_person && q.is_spectator" },
        { "controller.render.player.third_person_spectator": "!v.is_first_person && !v.map_face_icon && q.is_spectator" },
        { "controller.render.player.first_person": "v.is_first_person && !q.is_spectator" },
        { "controller.render.player.third_person": "!v.is_first_person && !v.map_face_icon && !q.is_spectator" },
        { "controller.render.player.map": "v.map_face_icon" },

        { "controller.render.player.cape_custom": "!v.is_first_person && !v.map_face_icon && !q.is_spectator" },
        { "controller.render.player.fire": "!v.is_first_person && !v.map_face_icon && q.is_alive && q.is_on_fire && !q.is_spectator" },
        { "controller.render.player.armor.attachable_bones": "(q.equipment_count > 0) && !q.is_spectator" },
        { "controller.render.player.armor.attachable_bones_elytra": "(q.armor_texture_slot(1) == 5) && !q.is_spectator" },
        { "controller.render.player.armor.attachable_bones_leggings": "q.has_armor_slot(2) && !q.is_spectator" },
        { "controller.render.player.armor.helmet": "!v.is_first_person && !v.map_face_icon && (v.hurt_time > 0.0) && !q.is_invisible && !q.is_emoting && q.has_armor_slot(0) && !q.is_spectator" },
        { "controller.render.player.armor.chestplate": "!v.is_first_person && !v.map_face_icon && (v.hurt_time > 0.0) && !q.is_invisible && !q.is_emoting && q.has_armor_slot(1) && !q.is_spectator" },
        { "controller.render.player.armor.leggings": "!v.is_first_person && !v.map_face_icon && (v.hurt_time > 0.0) && !q.is_invisible && !q.is_emoting && q.has_armor_slot(2) && !q.is_spectator" },
        { "controller.render.player.armor.boots": "!v.is_first_person && !v.map_face_icon && (v.hurt_time > 0.0) && !q.is_invisible && !q.is_emoting && q.has_armor_slot(3) && !q.is_spectator" }
      ],
      "enable_attachables": true
    }
  }
}