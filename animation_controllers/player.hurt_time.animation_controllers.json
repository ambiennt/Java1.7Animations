{
  "format_version": "1.10.0",
  "animation_controllers": {
    "controller.animation.player.hurt_time": {
      "initial_state": "default",
      "states": {
        "default": {
          "on_entry": [
            "variable.previous_hurt_time = variable.hurt_time;"
          ],
          "transitions": [
            { "test_hurt_time": "1.0" }
          ]
        },
        "test_hurt_time": {
          "transitions": [
            { "reset_hurt_time": "variable.previous_hurt_time == variable.hurt_time" },
            { "default": "1.0" }
          ]
        },
        "reset_hurt_time": {
          "on_entry": [
            "variable.hurt_time = 0.0;"
          ],
          "transitions": [
            { "default": "variable.hurt_time > 0.0f" }
          ]
        }
      }
    },
    "controller.animation.player.hurt_particle": {
      "initial_state": "default",
      "states": {
        "default": {
          "transitions": [
             // BUG: is_hurt_color doesn't evaluate when player is invisible so damage particles won't show in this circumstance
            { "emit": "variable.hurt_time > 0.0f" }
          ]
        },
        "emit": {
          "on_entry":[
            "variable.hurt_particle_time = query.life_time;"
          ],
          /*"particle_effects": [ // causes some weird delay when emitted directly from AC
            { "effect": "hurt" }
          ],*/
          "animations":[
            "emit_hurt_particle"
            //"hurt_limbs"
          ],
          "transitions": [
            { "default": "(query.life_time - variable.hurt_particle_time >= 0.5f) && query.is_alive" }
          ]
        }
      }
    }
  }
}
//made by ambient#2309 - do not redistribute publicly without permission!